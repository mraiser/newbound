{"data":{"css":".flowcodeviewer {\n  position:absolute;\n  top:0px;\n  left:0px;\n  right:0px;\n  height:100%;\n  background-color:black;\n}\n\n.floweditor {\n  position:absolute;\n  background-color:white;\n  padding: 20px;\n  width:auto;\n  height:auto;\n  color: rgba(0,0,0,.87);\n}\n\n.floweditor .mdl-selectfield__select{\n  color: rgba(0,0,0,.87);\n}\n\n.toprightcorner {\n  position:absolute;\n  top:0px;\n  right:0px;\n}\n\n.bottomcenter {\n  position:absolute;\n  bottom:0px;\n  width:100%;\n  text-align:center;\n}","data":[],"name":"editor","js":"var me = this;\nvar ME = $('#'+me.UUID)[0];\n\nme.ready = function(api){\n  componentHandler.upgradeAllRegistered();\n\n  var el = $(ME).find('.flowcodeviewer');\n  el.data('orbitcontrols', false);\n  el.data('showdatgui', false);\n  \n  installControl(el[0], 'threejs', 'viewer', function(api){\n    me.viewer = api;\n    api.waitReady(function(){\n      \n      var scene = me.viewer.scene;\n      var camera = scene.camera;\n      \n      camera.position.x = 0;\n      camera.position.y = 0;\n      camera.position.z = 10;    \n      camera.lookAt(scene.position);\n\n      me.setData(ME.DATA);\n    });\n  }, {});\n};\n\nme.dirty = function(){\n  if (me.parent && me.parent.dirty) me.parent.dirty();\n};\n\nme.getData = function(){\n  return me.case.getCode();\n};\n\nme.setData = function(ctl){\n  var el = $('<div/>');\n  $(ME).append(el);\n  me.viewer.add(el[0], \"flow\", \"case\", function(model){\n    me.case = model.api;\n    me.case.parent = me;\n    me.case.target_z = 0;\n    me.cases = [];\n    $(ME).find('canvas').prop('tabindex', 0).keydown(function(e){\n      if (e.keyCode == 46) me.case.deleteSelected();\n      console.log(e);\n    });\n  }, ctl);\n};\n      \n$(ME).click(function(e){\n  console.log(\"------------------------------------\");\n  console.log(e);\n  console.log(\"------------------------------------\");\n  \n  if (e.shiftKey){\n    console.log(\"SHIFT\");\n  }\n});\n\n\n\n\n\n\n\n","groups":"anonymous","ctl":"yrirzr178dfe7bd62m18","html":"<div class='flowcodeviewer'><\/div>","three":{"controls":[]},"db":"flow","desc":""},"readers":["anonymous"],"id":"yrirzr178dfe7bd62m18","sessionid":"jvgvwg16b7a4d277bt3","time":1621361625267,"addr":"/0:0:0:0:0:0:0:1:53270","username":"admin"}
{"data":{"java":"System.out.println(\"Rebuilding list of libraries...\");\n\nJSONObject installed = new JSONObject();\nBotBase b = BotBase.getBot(\"botmanager\");\nBotBase m = BotBase.getBot(\"metabot\");\nJSONArray ja = new JSONArray();\ninstalled.put(\"list\", ja);\n\nFile f = new File(b.getRootDir().getParentFile().getParentFile(), \"data\");\nFile ff = new File(m.getRootDir(), \"libraries\");\nString[] sa = f.list();\nint i;\nfor (i=0;i<sa.length;i++)\n{\n  String s = sa[i];\n  File f2 = new File(f, s);\n  if (f.isDirectory() && !s.startsWith(\".\"))\n  {\n    try\n    {\n      if (b.getData(s, \"tasklists\") != null)\n      {\n        File f3 = new File(f2, \"meta.json\");\n        JSONObject jo3 = f3.exists() ? new JSONObject(new String(b.readFile(f3))) : new JSONObject();\n        File ff2 = new File(ff, s+\".json\");\n        JSONObject jo2 = ff2.exists() ? new JSONObject(new String(b.readFile(ff2))) : new JSONObject();\n        jo2.put(\"id\", s);\n        jo2.put(\"name\", s);\n        if (jo3.has(\"readers\")) jo2.put(\"readers\", jo3.get(\"readers\"));\n        if (jo3.has(\"writers\")) jo2.put(\"writers\", jo3.get(\"writers\"));\n        jo2.put(\"encryption\", jo3.has(\"crypt\") ? \"AES\" : \"NONE\");\n        ja.put(jo2);\n      }\n    }\n    catch (Exception x) {}\n  }\n}\n    \nSystem.out.println(\"List of libraries rebuilt\");\n\nJSONObject result = new JSONObject();\nresult.put(\"data\", installed);\nreturn result;","import":"import java.io.*;\nimport java.util.*;\nimport org.json.*;\nimport java.net.*;\nimport com.newbound.robot.*;\nimport com.newbound.robot.published.*;\n","returntype":"JSONObject","groups":"anonymous","params":[],"desc":"List the libraries installed on this device"},"readers":["anonymous"],"id":"xrzokw1617218654al69","sessionid":"jhtpuq15d03ce0a74q0","time":1552937888832,"addr":"/0:0:0:0:0:0:0:1:56307","username":"mraiser"}
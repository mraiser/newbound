{"data":{"timer":[],"css":".thin3{\n  font-size:x-small;\n}\n\n.thin4{\n  height:80px;\n  margin-top:-20px;\n}\n\n.thin5{\n  height:40px;\n  margin-top:-20px;\n}\n\n.identity-dialog{\n  margin-left:auto;\n  margin-right:auto;\n  margin-top:50px;\n}\n\n.floatright{\n  float:right;\n}","data":[],"name":"identity","js":"var me = this;\nvar ME = $('#'+me.UUID)[0];\n\nme.ready = function(){\n  componentHandler.upgradeAllRegistered();\n  load();\n};\n\n$('#savemyidentity').click(function(){\n  var data = { 'displayname':$('#devname').val(), organization:$('#devorg').val() };\n  json('../botmanager/write', 'db=runtime&id=metaidentity&data='+encodeURIComponent(JSON.stringify(data)), function(result){\n    if (result.status != 'ok') $('#savemyidentitymsg').html('<font color=\"red\">ERROR: '+result.msg+'<\/font>');\n    else {\n      $('#savemyidentitymsg').html('Your profile has been saved.');\n      setTimeout(\"$('#savemyidentitymsg').html('&nbsp;');\", 5000);\n    }\n  });\n});\n\nfunction load(){\n  json('../botmanager/read', 'db=runtime&id=metaidentity', function(result){\n    if (result.status != 'ok' && result.msg == 'No such database') {\n      json('../botmanager/newdb', 'db=runtime', load);\n    }\n    else {\n      var data = result.data;\n      if (!data) data = { 'displayname':'Some Dev', organization:'' };\n      \n      $('#devname').val(data.displayname).parent()[0].MaterialTextfield.init();\n      $('#devorg').val(data.organization).parent()[0].MaterialTextfield.init();\n      \n      json('../peerbot/getpeerid', null, function(result){\n        $('#editidentityuuid').text(result.msg);\n        document.body.MYUUID = result.msg;\n      });\n    }\n  });\n}\n$(ME).find('.cancelbutton').click(load);","groups":"","html":"<div class=\"mdl-card__title\">\n  <h2 class=\"mdl-card__title-text\">Public Developer Info<\/h2>\n<\/div>\n<div class=\"mdl-card__supporting-text thin3\">\n      Your Universal Unique Identifier (UUID):\n  <div id=\"editidentityuuid\"><\/div>\n<\/div>\n<div class=\"mdl-card__supporting-text\">\n  <form action=\"#\">\n    <div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\">\n      <input class=\"mdl-textfield__input\" type=\"text\" id=\"devname\">\n      <label class=\"mdl-textfield__label\" for=\"devname\">Name<\/label>\n    <\/div>\n  <\/form>\n<\/div>    \n<div class=\"mdl-card__supporting-text thin4\">\n  <form action=\"#\">\n    <div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\">\n      <input class=\"mdl-textfield__input\" type=\"text\" id=\"devorg\">\n      <label class=\"mdl-textfield__label\" for=\"devorg\">Organization<\/label>\n    <\/div>\n  <\/form>\n<\/div>    \n<div class=\"mdl-card__supporting-text thin5 subtext\" id=\"savemyidentitymsg\">\n<\/div>\n<div class=\"mdl-card__actions mdl-card--border\">\n  <a class=\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect floatright continuebutton\" id=\"savemyidentity\">\n    save\n  <\/a>\n  <a class=\"mdl-button mdl-button--flat mdl-js-button mdl-js-ripple-effect cancelbutton\">\n    reset\n  <\/a>\n<\/div>\n","ctl":"mmyzvq1614e609a4az2c1","cmd":[],"db":"metabot","desc":""},"id":"mmyzvq1614e609a4az2c1","sessionid":"jhtpuq15d03ce0a74q0","time":1518701309564,"username":"mraiser"}